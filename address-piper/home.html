<script src="http://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<title> Address Piper </title>
<fieldset>

<!-- Form Name -->
<center>
<legend>Address Piper</legend>
</center>

<!-- Text input-->
<div class="form-group">
  <label class="col-md-12 control-label" for="textinput">Address</label>  
  <div class="col-md-12">
  <input id="textinput" name="textinput" type="text" placeholder="Enter your address " class="form-control input-md">
    
  </div>
</div>

<!-- Button -->
<div class="form-group">
  <label class="col-md-12 control-label" for="validate"></label>
  <div class="col-md-12">
    <button id="validate" name="validate" class="btn btn-info" onclick="validate()">Validate</button>
  </div>
</div>
<div class="form-group">
<label class="col-md-12 control-label" for="list_group" style="display:none;">Let's make things more clear! (and simple)</label>
  
<ol id="suggestions_list">
  <!-- <li class="list-group-item">Cras justo odio</li>
  <li class="list-group-item">Dapibus ac facilisis in</li>
  <li class="list-group-item">Morbi leo risus</li>
  <li class="list-group-item">Porta ac consectetur ac</li>
  <li class="list-group-item">Vestibulum at eros</li> -->
</ol>

</div>
</fieldset>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAGL2Gd0FLq1zZad7445djFjxHqqjMKrHA&callback=init">
</script>
<script type="text/javascript">
	var geocoder = "";
	function init(){
		console.log("init called");
		geocoder = new google.maps.Geocoder();
		console.log(geocoder);
	}
	function validate(){
			$("#suggestions_list").empty();
			var address = $("#textinput").val();
			console.log(address);	
			//call api
			geocoder.geocode( { 'address': address}, function(results, status) {
		      if (status == 'OK') {
		        console.log(results);
		        for(var i=0; i<results.length; i++){
		        	console.log(results[i]["formatted_address"]);
		        	$("#suggestions_list").append("<li>"+results[i]["formatted_address"]+"</li>");
		        }
		      } else {
		      	$("#suggestions_list").append("<li>Oops!! Incorrect Address</li>");
		      }
		    });
	}
</script>
